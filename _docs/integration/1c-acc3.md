---
title: "1С:Бухгалтерия 3.0"
permalink: /docs/integration/1c-acc3/
toc: true
---

## Возможности
Интеграция реализована для конфигураций **1С:Предприятие 8.3**:
- Бухгалтерия предприятия, редакция 3.0

Обмен осуществляется со стороны 1С с использованием внешней обработки
**АРК: Транспортная Логистика обмен с сайтом arctl.ru**.

Используйте обработку для:
- Загрузки **АРК -> 1С**:
  -   новых элементов справочников
  -   новых документов
- Выгрузки **1С -> АРК**:
  -   платежей клиентов
  -   платежей поставщика
- Выполнения связи имеющихся данных в 1С и АРК.

Соответствие объектов в *1C* и *АРК: Транспортная Логистика OnLine*

| Объект 1С | Объект АРК | Загрузка | Связь | Выгрузка | Режимы |
| :--- | :--- | :--- | :--- | :--- | :--- |
| Организации | Организация > Наши компании | | Да | | |
| Контрагенты | CRM > Контрагенты | Да | Да | | Новые, загружены, все |
| Договоры | CRM > Договоры | Да | Да | | Новые, загружены, все |
| Номенклатура | Справочники > Шаблоны заявок > Услуги | Да | Да | | Новые, загружены, все |
| Поступление на расчетный счет | Клиенты > Платежи | | | Да | |
| Списание с расчетного счета | Поставщики > Платежи | | | Да | |
| Реализация (акты, накладные) | Клиенты > Акты / счет-фактуры | Да | | | Новые, загружены, все |
| Поступления (акты, накладные) | Поставщики > Входящие документы | Да | | | Новые, загружены, все |
| Отчеты комитентам | Клиенты > Отчеты экспедитора | Да | | | Новые, загружены, все |
| Платежные поручения | Поставщики > Платежный календарь | Да | | | Новые, загружены, все |

**Важно!** Обмен реализован для 1С Бухгалтерия: 3.0.ХХ.ХХ.

**Важно!** При установке связи в АРК записывается код объекта из 1С,
далее обмен выполняется с использованием этого кода. Изменение кода в 1С нарушает связь объектов.

**Важно!** При изменении в АРК ранее выгруженного документа необходима
повторная выгрузка в 1С. Изменения документов не отслеживаются.
При загрузке документ перезаписывается.

## Загрузка обработки

Последняя версия обработки
**АРК: Транспортная Логистика обмен с сайтом arctl.ru**
находится по адресу: [Яндекс Диск](https://yadi.sk/d/yPQwBFdNiH0Ssg).

Рекомендуем после загрузки добавить обработку в
дополнительные отчеты и обработки.

## Добавление в дополнительные отчеты и обработки

Откройте *Печатные формы, отчеты и обработки*

![](../../images/processing_form.png)

Затем откройте *Дополнительные отчеты и обработки*

![](../../images/additional_treatments.png)

В открывшемся окне добавьте обработку

![](../../images/additiona_reports.png)

В окне предупреждения надмите *Продолжить*

![](../../images/warning.png)

Выберите файл обработки

![](../../images/file_selection.png)

Установите в размещение в разделах.
Рекомендуемые разделы *Продажи*, *Покупки* и *Банк и касса*

![](../../images/processing_placement.png)

Указажите место размещения

![](../../images/placement_in_sections.png)

Нажмите *Записать и закрыть*

![](../../images/external_processing.png)

В любом из разделов, где ранее указали размещение,
необходимо настроить список для отображения.
Для этого перейдите в раздел *Сервис* и выберите *Дополнительные обработки*.

![](../../images/processing_service.png)

В открывшемся окне выберите *Настроить список*

![](../../images/processing_setting.png)

Выберите обработку **АРК: Транспортная Логистика обмен с сайтом arctl.ru**

![](../../images/processing_service_slection.png)

На этом настройка отображения завершена.
Процедура выполняется **один раз** при первом размещении внешней обработки.

## Запуск внешней обработки
Существует несколько вариантов запуска внешней обработки:
  - из списка обработок (рекомендуемый вариант)
  - через файл (подходит для однакратного запуска)
  - через сохраненный путь

### Из списка обработок
Запуск возможен, если обработка добавлена в
[Дополнительные отчеты и обработки](../1c-acc3/#добавление-в-дополнительные-отчеты-и-обработки).

Откройте раздел *Продажи*, *Покупки* или *Банк и касса*,
затем перейдите в меню *Дополнительные обработки*.

![](../../images/service_file.png)

Откройте обработку **АРК: Транспортная Логистика обмен с сайтом arctl.ru**

![](../../images/my_additional_processing.png)

### Через файл
Откройте меню *Файл*, *Открыть* и выберите путь к загруженной обработке.

![](../../images/open_file.png)

### Через сохраненный путь
Запуск возможен, если раннее обработка открывалась *Через файл*.

Откройте меню *Файл*, затем выберете сохраненный путь до файла обработки.

![](../../images/opened_file.png)

## Начало работы с обработкой

Перед использованием обработки после ее запуска выполните начальную настройку:

1) Настройте подключение к **АРК: Транспортная Логистика**.

На вкладке *Настройки* заполните поля *http*, *Пользователь*, *Пароль*

![](../../images/start_processing.png)

2) Добавьте внешнюю систему в **АРК: Транспортная Логистика**.

Скопируйте имя внешней системы в обработке.

![](../../images/name_processing.png)

Затем добавьте его в справочник внешних систем в
**АРК: Транспортная Логистика**.

![](../../images/external_system.png)

3) Проверьте подключение.

Нажмите кнопку *Получить*. Если получен длинный код (уникальный идентификатор),
то обмен настроен успешно.

![](../../images/connection_check.png)

# Обмен данными

Перед обменом данными необходимо связать *Нашу компанию* в
**АРК: Транспортная Логистика** и *Организацию* в **1С**.

Выберите организацию, соответствующую нашей компании, и
нажимите кнопку *Связать*.

![](../../images/data_exchange.png)

## Загрузка платежных поручений из платежного календаря

Порядок действий:

1) *Бухгалтер*. В 1С получите строки платежного календаря и
подготовьте платежные поручения.

Откройте форму обработки на вкладке *Документы - Платежные поручения*,
нажмите *Получить*.

![Рисунок. АРК: Online. Документ «Заявка на оплату поставщику»](../../images/1c_buh_arctl_Money_orders_get_upload.png)

При нажатии кнопки *Получить* система автоматически:
- получает строки платежного календаря:
  -   только акцептованные
  -   ранее не загруженные  
  -   с учетом периода по полю *План. дата*
- подготавливает загрузку, группируя по полям:
  -   Получатель (контрагент)
  -   Договор
  -   Валюта
  -   Ставка НДС
  -   Счет.

2) Перед загрузкой можно скорректировать поля:
-   дата
-   назначение платежа
-   и другие.

### В 1С загрузить (создать) платежные поручения (Бухгалтер)
В форме обработки на вкладке *Документы - Платежные поручения*
нажмите *Загрузить*. Система создаст платежные поручения и
заполнит поле *Платежное поручение*.

Заполнение этого поля означает успешную загрузку.

## Проверка версии обработки

Версия обработки указана в заголовке обработки.

![](../../images/1c_processing_version.png)

## Права доступа в 1С

В 1С права доступа должны быть аналогичны профилю групп доступа *Бухгалтер*.

Дополнительно включите *Запуск внешнего соединения* и
*Интерактивное открытие внешних отчетов и обработок*.

1) Добавьте новый профиль через меню *Профили групп доступа*
(Администрирование > Настройки пользователей и прав > Профили групп доступа).

Профиль должен выглядеть примерно так.
В названии укажите, например, “Синхронизация данных с АРК”.

![](../../images/group_profile.png)

2) В новый профиль добавьте пользователя через меню *Пользователи*
(Администрирование > Настройки пользователей и прав > Пользователи).

Выберите нужного пользователя добавьте в правах созданный профиль.

![](../../images/user.png)

**Важно!** Если пользователь не администратор, то работа обработки может
выполняться, если она включена в *Дополнительные отчеты и обработки*.

----
## Включение отладки
Включение отладки при выполнении POST запросов.
![](../../images/debug_on.png)

## Дополнительные обработки
-   Поиск и замена значений [Яндекс Диск](https://yadi.sk/d/aRiwirfhi58p0A)
-   Групповое изменение реквизитов [Яндекс Диск](https://yadi.sk/d/PHKVlkmcCjrrmw).
